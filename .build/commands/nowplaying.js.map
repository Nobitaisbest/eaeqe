{
  "version": 3,
  "sources": ["../../commands/nowplaying.ts"],
  "sourcesContent": ["import { ChatInputCommandInteraction, EmbedBuilder, SlashCommandBuilder } from \"discord.js\";\nimport { splitBar } from \"string-progressbar\";\nimport { bot } from \"../index\";\nimport { i18n } from \"../utils/i18n\";\n\nexport default {\n  data: new SlashCommandBuilder().setName(\"nowplaying\").setDescription(i18n.__(\"nowplaying.description\")),\n  cooldown: 10,\n  execute(interaction: ChatInputCommandInteraction) {\n    const queue = bot.queues.get(interaction.guild!.id);\n\n    if (!queue || !queue.songs.length)\n      return interaction.reply({ content: i18n.__(\"nowplaying.errorNotQueue\"), ephemeral: true }).catch(console.error);\n\n    const song = queue.songs[0];\n    const seek = queue.resource.playbackDuration / 1000;\n    const left = song.duration - seek;\n\n    let nowPlaying = new EmbedBuilder()\n      .setTitle(i18n.__(\"nowplaying.embedTitle\"))\n      .setDescription(`${song.title}\\n${song.url}`)\n      .setColor(\"#F8AA2A\");\n\n    if (song.duration > 0) {\n      nowPlaying.addFields({\n        name: \"\\u200b\",\n        value:\n          new Date(seek * 1000).toISOString().substr(11, 8) +\n          \"[\" +\n          splitBar(song.duration == 0 ? seek : song.duration, seek, 20)[0] +\n          \"]\" +\n          (song.duration == 0 ? \" \u25C9 LIVE\" : new Date(song.duration * 1000).toISOString().substr(11, 8)),\n        inline: false\n      });\n\n      nowPlaying.setFooter({\n        text: i18n.__mf(\"nowplaying.timeRemaining\", {\n          time: new Date(left * 1000).toISOString().substr(11, 8)\n        })\n      });\n    }\n\n    return interaction.reply({ embeds: [nowPlaying] });\n  }\n};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAA+E;AAC/E,gCAAyB;AACzB,eAAoB;AACpB,kBAAqB;AAErB,IAAO,qBAAQ;AAAA,EACb,MAAM,IAAI,mCAAoB,EAAE,QAAQ,YAAY,EAAE,eAAe,iBAAK,GAAG,wBAAwB,CAAC;AAAA,EACtG,UAAU;AAAA,EACV,QAAQ,aAA0C;AAChD,UAAM,QAAQ,aAAI,OAAO,IAAI,YAAY,MAAO,EAAE;AAElD,QAAI,CAAC,SAAS,CAAC,MAAM,MAAM;AACzB,aAAO,YAAY,MAAM,EAAE,SAAS,iBAAK,GAAG,0BAA0B,GAAG,WAAW,KAAK,CAAC,EAAE,MAAM,QAAQ,KAAK;AAEjH,UAAM,OAAO,MAAM,MAAM;AACzB,UAAM,OAAO,MAAM,SAAS,mBAAmB;AAC/C,UAAM,OAAO,KAAK,WAAW;AAE7B,QAAI,aAAa,IAAI,4BAAa,EAC/B,SAAS,iBAAK,GAAG,uBAAuB,CAAC,EACzC,eAAe,GAAG,KAAK;AAAA,EAAU,KAAK,KAAK,EAC3C,SAAS,SAAS;AAErB,QAAI,KAAK,WAAW,GAAG;AACrB,iBAAW,UAAU;AAAA,QACnB,MAAM;AAAA,QACN,OACE,IAAI,KAAK,OAAO,GAAI,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC,IAChD,UACA,oCAAS,KAAK,YAAY,IAAI,OAAO,KAAK,UAAU,MAAM,EAAE,EAAE,KAC9D,OACC,KAAK,YAAY,IAAI,iBAAY,IAAI,KAAK,KAAK,WAAW,GAAI,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC;AAAA,QAC7F,QAAQ;AAAA,MACV,CAAC;AAED,iBAAW,UAAU;AAAA,QACnB,MAAM,iBAAK,KAAK,4BAA4B;AAAA,UAC1C,MAAM,IAAI,KAAK,OAAO,GAAI,EAAE,YAAY,EAAE,OAAO,IAAI,CAAC;AAAA,QACxD,CAAC;AAAA,MACH,CAAC;AAAA,IACH;AAEA,WAAO,YAAY,MAAM,EAAE,QAAQ,CAAC,UAAU,EAAE,CAAC;AAAA,EACnD;AACF;",
  "names": []
}
